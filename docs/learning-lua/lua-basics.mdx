---
sidebar_position: 3
title: 3. Lua Basics
sidebar_label: 3. Lua Basics
---

# Lua Basics

Hey, ich bin Ludaro und in diesem Abschnitt werde ich dir die grundlegenden Konzepte von Lua vorstellen, die wichtig sind, um mit FiveM-Skripten zu arbeiten!

## Was ist Lua?

Lua ist eine leistungsfähige, effiziente und leicht zu erlernende Programmiersprache. Sie wird oft für Skripting in Spielen verwendet, darunter auch FiveM für GTA V.

## Wichtige Lua-Konzepte

### Variablen und Datentypen

In Lua können Variablen verschiedene Datentypen speichern:

```lua
local zahl = 10        -- Zahl (number)
local text = "Hallo"   -- Text (string)
local wahr = true      -- Wahrheitswert (boolean)
local nichts = nil     -- Nullwert (nil)
```

### Funktionen

Funktionen sind Blöcke von wiederverwendbarem Code:

```lua
function sagHallo(name)
    print("Hallo " .. name)
end

sagHallo("Ludaro")  -- Ausgabe: Hallo Ludaro
```

### Tabellen

Tabellen sind die einzigen Datenstrukturen in Lua und können verwendet werden, um Arrays, Listen, Dictionaries, etc. zu erstellen:

```lua
local personen = {
    "Ludaro",
    "Max",
    "Anna"
}

print(personen[1])  -- Ausgabe: Ludaro

local person = {
    name = "Ludaro",
    alter = 25
}

print(person.name)  -- Ausgabe: Ludaro
```

### Schleifen

Schleifen werden verwendet, um Codeblöcke wiederholt auszuführen:

```lua
for i = 1, 5 do
    print("Durchlauf: " .. i)
end

local personen = {"Ludaro", "Max", "Anna"}
for index, name in ipairs(personen) do
    print("Person " .. index .. ": " .. name)
end
```

### Bedingungen

Mit Bedingungen kannst du Entscheidungen treffen:

```lua
local alter = 25

if alter < 18 then
    print("Du bist ein Jugendlicher.")
elseif alter < 65 then
    print("Du bist ein Erwachsener.")
else
    print("Du bist ein Senior.")
end
```

## FiveM-Spezifische Konzepte

### Callbacks

Callbacks werden verwendet, um Funktionen aufzurufen, wenn eine asynchrone Operation abgeschlossen ist:

```lua
ESX = nil

TriggerEvent('esx:getSharedObject', function(obj) ESX = obj end)

ESX.TriggerServerCallback('mein_callback', function(result)
    print(result)
end)
```

### Events

Events sind wichtige Bestandteile von FiveM-Skripten und ermöglichen die Kommunikation zwischen Client und Server:

**Client-seitig:**

```lua
RegisterNetEvent('mein_event')
AddEventHandler('mein_event', function()
    print("Event wurde empfangen!")
end)
```

**Server-seitig:**

```lua
RegisterNetEvent('mein_event')
AddEventHandler('mein_event', function()
    print("Server Event wurde empfangen!")
end)
```

### Trigger

Mit Triggern kannst du Events auslösen:

**Client-seitig:**

```lua
TriggerServerEvent('mein_event')
```

**Server-seitig:**

```lua
TriggerClientEvent('mein_event', -1)  -- -1 bedeutet, dass das Event an alle Clients gesendet wird
```

### Konfigurationsdateien

Konfigurationsdateien werden verwendet, um Einstellungen und Daten zentral zu verwalten:

**config.lua:**

```lua
Config = {}
Config.MaxSpieler = 32
```

**Verwendung in anderen Dateien:**

```lua
print(Config.MaxSpieler)  -- Ausgabe: 32
```

### Ein einfaches Beispiel

Hier ist ein einfaches Beispiel, das alle diese Konzepte kombiniert:

**fxmanifest.lua:**

```lua
fx_version 'cerulean'
game 'gta5'

name "MeinErstesScript"
author 'Ludaro'
description 'Ein einfaches FiveM Script'

client_scripts {
    'client.lua'
}

server_scripts {
    'server.lua'
}

shared_scripts {
    'config.lua'
}
```

**config.lua:**

```lua
Config = {}
Config.TeamchatBefehl = "teamchat"
```

**client.lua:**

```lua
RegisterCommand(Config.TeamchatBefehl, function(source, args)
    local nachricht = table.concat(args, " ")
    TriggerServerEvent('teamchat:sendMessage', nachricht)
end)

RegisterNetEvent('teamchat:receiveMessage')
AddEventHandler('teamchat:receiveMessage', function(nachricht)
    print("Teamchat Nachricht: " .. nachricht)
end)
```

**server.lua:**

```lua
RegisterNetEvent('teamchat:sendMessage')
AddEventHandler('teamchat:sendMessage', function(nachricht)
    local xPlayer = ESX.GetPlayerFromId(source)
    if xPlayer.getGroup() == 'admin' then
        TriggerClientEvent('teamchat:receiveMessage', -1, nachricht)
    end
end)
```

Jetzt hast du einen Überblick über die grundlegenden Konzepte von Lua und wie sie in FiveM verwendet werden. Im nächsten Abschnitt werden wir tiefer in spezifische Lua-Befehle und deren Anwendung in FiveM-Skripten eintauchen. Bleib dran!